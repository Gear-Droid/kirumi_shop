{% extends 'homepage.html' %}

{% load static %}
{% load thumbnail %}
{% block header %}
  <!--===============================================================================================-->
    <!-- Card CSS style -->
      <link rel="stylesheet" type="text/css" href="{% static 'css/cart/cart.css' %}">
  <!--===============================================================================================-->
    <!-- SDEK widget -->
      <script id="ISDEKscript" type="text/javascript" src="https://widget.cdek.ru/widget/widjet.js" charset="utf-8"></script>
  <!--===============================================================================================-->

{% endblock header %}

{% block style %}
  label>.text-muted {
    color: red!important;
  }
  .form-floating{
    margin-bottom: 10px;
  }
{% endblock style %}

{% block intro %}
{% endblock intro %}

{% block content %}

  <div class="container" style="max-width: 600px;">
    <div class="py-4 text-center">
      <h1>Оплата и подтверждение заказа</h1>
    </div>

    <div class="row">
      <div class="order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-primary">Заказ</span>
          <span class="badge bg-primary rounded-pill"> {{ cart.total_products }} </span>
        </h4>
        <ul class="list-group mb-3">

          {% for item in products_in_cart %}
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div>
                <h6 class="my-0">{{ item.qty }} x {{ item.colored_product.product.name }}</h6>
                <small class="text-muted">{{ item.colored_product.name }} - {{ item.size }} размер</small>
              </div>
              <span class="text-muted">{{ item.colored_product.price }}</span>
            </li>
          {% endfor %}

          <li class="list-group-item d-flex justify-content-between bg-light">
            <div class="text-success">
              <h6 class="my-0">Промокод</h6>
              <small>EXAMPLECODE</small>
            </div>
            <span class="text-success">− 0 руб.</span>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>Итого</span>
            <strong>{{cart.final_price}} руб.</strong>
          </li>

        </ul>
      </div>
    </div>
    <div>
      <div class="">
        <form class="needs-validation" action="/" method="post" no-validation="">
          {% csrf_token %}
          <div class="col my-4">
            <div class="form-floating">
              <input class="form-control" id="firstName" value="Conor" readonly>
              <label for="firstName" class="form-label">Имя</label>
            </div>
            
            <div class="form-floating">
              <input type="text" class="form-control" id="lastName" value="McGregor" readonly>
              <label for="lastName" class="form-label">Фамилия</label>
            </div>

            <div class="form-floating">
              <input type="email" class="form-control" id="email" value="email@example.com" readonly>
              <label for="email" class="form-label">Email</label>
            </div>

            <div class="form-floating">
              <input type="text" class="form-control" id="phone" value="666999" readonly>
              <label for="phone" class="form-label">Номер телефона</label>
            </div>

            <div class="form-floating">
              <input type="text" class="form-control" id="chosenPost" value="{{ delivery_details.chosenPost }}" readonly>
              <label for="chosenPost" class="form-label">Номер ПВЗ</label>
            </div>

            <div class="form-floating">
              <input type="text" class="form-control" id="addresPost" value="{{ delivery_details.addresPost }}" readonly>
              <label for="addresPost" class="form-label">Адрес ПВЗ</label>
            </div>

            <div class="form-floating">
              <input type="text" class="form-control" id="pricePost" value="{{ delivery_details.pricePost }}" readonly>
              <label for="pricePost" class="form-label">Стоимость доставки</label>
            </div>

            <div class="form-floating">
              <input type="text" class="form-control" id="timePost" value="{{ delivery_details.timePost }}" readonly>
              <label for="timePost" class="form-label">Приблизительное время доставки</label>
            </div>
          </div>

          <h4 class="mb-3">Оплата</h4>

          <div style="display: None;" class="my-3">
            <div class="form-check">
              <input id="credit" name="paymentMethod" type="radio" class="form-check-input" checked="" required="">
              <label class="form-check-label" for="credit">Credit card</label>
            </div>
            <div class="form-check">
              <input id="debit" name="paymentMethod" type="radio" class="form-check-input" required="">
              <label class="form-check-label" for="debit">Debit card</label>
            </div>
            <div class="form-check">
              <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required="">
              <label class="form-check-label" for="paypal">PayPal</label>
            </div>
          </div>

          <div class="row mb-5">
            <div class="col-md-6">
              <label for="cc-name" class="form-label">Владелец карты</label>
              <input type="text" class="form-control" id="cc-name" placeholder="" required="">
              <div class="invalid-feedback">
                Name on card is required
              </div>
            </div>
            <div class="col-md-6">
              <label for="cc-number" class="form-label">Номер карты</label>
              <input type="text" class="form-control" id="cc-number" placeholder="" required="">
              <div class="invalid-feedback">
                Credit card number is required
              </div>
            </div>
            <div class="col-md-3">
              <label for="cc-expiration" class="form-label">Срок действия</label>
              <input type="text" class="form-control" id="cc-expiration" placeholder="" required="">
              <div class="invalid-feedback">
                Expiration date required
              </div>
            </div>  
            <div class="col-md-3">
              <label for="cc-cvv" class="form-label">CVV</label>
              <input type="text" class="form-control" id="cc-cvv" placeholder="" required="">
              <div class="invalid-feedback">
                Security code required
              </div>
            </div>
          </div>

          <input class="mb-5 w-100 btn btn-primary btn-lg" value="Перейти к оплате" type="submit"></input>
        </form>
      </div>
    </div>
  </div>

{% endblock content %}

{% block prefooter %}
{% endblock prefooter %}

{% block scripts %}
{% endblock scripts %}
